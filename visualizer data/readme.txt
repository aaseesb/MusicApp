hi cc
when i put this stuff in your code it would explode and break everything so i just put it in here and you can integrate it into your code
the fftsize in js file changes the number of bars dont ask why but it has to be a power of 2
ctx.fillstyle in the same file changes the background color
the code i copied off the guy on the coding forum had a color gradient but i just changed it to black dawg the original looks quite pretty (like you), you can remove the comment near the bottom to see and then comment the code below that.
 